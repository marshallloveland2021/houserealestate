<div class="container mt-4">
  <h4>Conversation</h4>

  <div class="mb-3" *ngFor="let msg of messages">
    <div [class]="msg.senderId === currentUserId ? 'text-end' : 'text-start'">
      <p class="mb-1">
        <strong>{{ msg.senderId === currentUserId ? "You" : "Them" }}</strong>
      </p>
      <p class="p-2 border rounded bg-light d-inline-block">
        {{ msg.content }}
      </p>
      <div class="text-muted small">{{ msg.timestamp | date : "short" }}</div>
    </div>
    <hr />
  </div>

  <form (ngSubmit)="sendMessage()" class="mt-3">
    <textarea
      [(ngModel)]="newMessage"
      name="message"
      class="form-control mb-2"
      rows="3"
      placeholder="Type your message..."
      required
    ></textarea>
    <button class="btn btn-primary" type="submit">Send</button>
  </form>
</div>
